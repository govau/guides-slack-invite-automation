doctype html
html(lang="en")
  head
    meta(http-equiv="Content-Type", content="text/html; charset=utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title #{__('TITLE', community)}
    link(href="css/style.css", rel="stylesheet", type="text/css")
    link(href="//fonts.googleapis.com/css?family=Lato:300,400,700,900,700italic|Open+Sans:700italic,400,600,300,700,800", rel="stylesheet", type="text/css")
  body.uikit-body.uikit-grid
    .container
      .grids.col-md-6
        header.join-slack-header
          h1.uikit-display-5 Join #{community} on Slack
          p.uikit-display-2 #{__('HEADER')}
        main
          form(method="POST", action="/join-slack/invite")#join-form.email-submission-form
            label(for="slack-email").uikit-text-input__label.uikit-display-1 Email
            input(type="email", name="email", placeholder="#{__('ENTER_EMAIL')}")#slack-email.uikit-text-input
            if tokenRequired
              input(type="text", name="token", placeholder="#{__('ENTER_TOKEN')}")#slack-token.uikit-text-input
            input(type="submit", value="Join").submit.uikit-btn
        footer.disclaimer
          h2.uikit-display-2
            strong About our Slack group
          p The GOV.AU guides discussion group on Slack was set up by the Australian Government Digital Transformation Agency. It's a place to get updates, ask for help and suggest stuff for our products, including UI-Kit.
          h2.uikit-display-2
            strong Please note
          ul
            li Be respectful: this is for everyone.
            li You are responsible for what you post â€” this Slack group is open to everyone, not just Australian Government employees.
            li Conversations in this slack do not necessarily represent the views or opinions of the DTA or the Australian Government.
          h2.uikit-display-2
            strong Need help?
          p If you have questions or need help email guides@digital.gov.au.
    script.
      var tokenRequired = #{tokenRequired};
      var form = document.getElementById('join-form');
      var email = document.getElementById('slack-email');
      var token = document.getElementById('slack-token');
      form.addEventListener('submit', function(evt) {
        if (!email.value) {
          evt.preventDefault();
        }
        if (tokenRequired && !token.value) {
          evt.preventDefault();
        }
      });
